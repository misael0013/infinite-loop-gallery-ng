<nav class="top">
  <a routerLink="/admin" class="btn">← Volver</a>
  <h1>Editar álbum</h1>
</nav>

<section *ngIf="album() as a" class="wrap">
  <form class="card form" (ngSubmit)="saveMeta()">
    <div class="grid2">
      <label> Título
        <input [(ngModel)]="title" name="title" required />
      </label>
      <label> Categoría
        <input [(ngModel)]="category" name="category" placeholder="portraits, urban…" />
      </label>
    </div>

    <label> Descripción
      <textarea [(ngModel)]="description" name="description" rows="3"></textarea>
    </label>

    <div class="grid2">
      <label class="row">
        <input type="checkbox" [(ngModel)]="isPrivate" name="isPrivate" />
        <span>Álbum privado</span>
      </label>
      <label *ngIf="isPrivate"> Contraseña
        <input [(ngModel)]="password" name="password" placeholder="••••" />
      </label>
    </div>

    <div class="actions">
      <button class="btn primary" type="submit">Guardar cambios</button>
    </div>
  </form>

  <div class="card">
    <div class="head">
      <strong>Fotos ({{ images.length }})</strong>
      <div class="row">
        <input class="url-input" [(ngModel)]="newImageUrl" name="newImageUrl"
               placeholder="assets/slideshow/DSC05127.jpg" />
        <button class="btn" type="button" (click)="addImage()">Añadir</button>
      </div>
    </div>

    <div class="photos">
      <figure *ngFor="let src of images; let i = index">
        <img [src]="src" alt="" />
        <figcaption>{{ src }}</figcaption>
        <div class="photo-actions">
          <button class="btn sm" type="button" (click)="setAsCover(i)">Portada</button>
          <button class="btn sm danger" type="button" (click)="removeImage(i)">Borrar</button>
        </div>
      </figure>
    </div>
  </div>
</section>
